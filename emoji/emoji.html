<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emoji</title>
</head>
<body>
<a href="https://github.com/rongcloud/websdk-demo/blob/master/emoji.html" class="get-source">è·å–æºç </a>

<style>
body{
    font-family:arial;
}
.get-source {
    text-decoration:none;
    background:#000;
    color:#fff;
    padding:10px 30px;
    border-radius:5px;
    position:fixed;
    right:5px;
    top:5px;
}
pre.code{
    padding:5px;
    border:1px solid #ccc;
    background:#f5f5f5;
    border-radius:3px;
    font-family:arial;
    line-height:2;
}
p {
    margin: 5px;
    margin-left: 0;
}
ol li {
    margin-bottom: 10px;
}
.support-list{
    background:#f5f5f5;
    line-height: 2;
    font-size: 12px;
}   
.doc-content {
    font-size: 13px;
    background:#f5f5f5;
    padding-bottom: 10px;
    padding-top: 10px;
}

</style>
    
<script src="RongEmoji-test.js"></script> 

<h1>Emoji</h1>

<h2>èäº‘æ¶ˆæ¯ message é‡Œçš„ emoji è¯´æ˜</h2>
<ol>
    <li>
        <p>å‘æ¶ˆæ¯æ—¶ï¼Œå¿…é¡»ç›´æ¥å‘é€emojiåŸç”Ÿå­—ç¬¦ã€‚å¦‚ï¼šğŸ˜€ ã€‚è½¬æ¢æ–¹æ³•ï¼šsymbolToEmoji(symbolStr)ã€‚</p>
    </li>
    <li>
        <p>Web SDKæ¥æ”¶æ¶ˆæ¯æ—¶æ¥æ”¶åˆ°çš„æ˜¯unicodeç¼–ç æ ¼å¼ï¼Œå¦‚ï¼šâ€ef600â€ã€‚éœ€è¦ä½¿ç”¨messageDecodeæ–¹æ³•è½¬åŒ–æˆåŸç”Ÿemojiã€‚</p>
    </li>
    <li>
        <p>emojiçš„æ¸²æŸ“ï¼š</p>
        <ul class="doc-content">
            <li>å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿéƒ½èƒ½å¤Ÿæ˜¾ç¤ºemojiå­—ç¬¦ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œemojiå­—ç¬¦çš„æ˜¾ç¤ºä¹Ÿå¯èƒ½ä¸ç›¸åŒã€‚</li>
            <li>å…·ä½“æŸ¥çœ‹ï¼š<a href="https://leonax.net/p/7456/how-to-type-emoji-in-various-systems/">https://leonax.net/p/7456/how-to-type-emoji-in-various-systems/</a></li>
            <li>emoji SDKæä¾›äº†åˆ¤æ–­æ˜¯å¦æ”¯æŒemojiæ¸²æŸ“çš„æ–¹æ³•ã€‚å¹¶æä¾›äº†å°†åŸç”Ÿemojiè½¬åŒ–æˆhtmlçš„æ–¹æ³•ï¼Œç”¨æˆ·å¯ç›´æ¥ä½¿ç”¨åŒ…å«emojièƒŒæ™¯çš„htmlæ¥æ˜¾ç¤ºemojiã€‚</li>
        </ul>
    </li>
    <li>
        <p>SDKä½¿ç”¨æ–¹æ³•(æœ€ä¸‹æ–¹å«ç¤ºä¾‹)ï¼š</p>
        <ul class="doc-content">
            <li>isSupportEmojiï¼šåˆ¤æ–­æ˜¯å¦æ”¯æŒemojiçš„æ¸²æŸ“(ç¤ºä¾‹0)</li>
            <li>emojisï¼šè·å–å…¨éƒ¨è¡¨æƒ…çš„htmlæ ‡ç­¾</li>
            <li>namesï¼šè·å–å…¨éƒ¨è¡¨æƒ…çš„å¯¹åº”æ–‡å­—è¯´æ˜</li>
            <li>
                <p>emojiToSymbol(emojiStr, reg) ï¼š</p>
                <ul>
                <strong>
                    <li>å°†åŸç”Ÿemojiè½¬åŒ–ä¸ºå¯¹åº”åç§°ã€‚è¿”å›çš„è¯­è¨€ä¸ºRongIMEmoji.initæ—¶è®¾ç½®çš„è¯­è¨€ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤ä¸ºä¸­æ–‡(ç¤ºä¾‹3)</li>
                    <li><em>åº”ç”¨åœºæ™¯</em>ï¼šåœ¨ä¸æ”¯æŒåŸç”Ÿemojiæ¸²æŸ“æ—¶ï¼Œå¯ä»¥æ˜¾ç¤ºå¯¹åº”åç§°ã€‚é€‚ç”¨äºæ¶ˆæ¯è¾“å…¥ï¼Œä¼šè¯åˆ—è¡¨çš„emojiæ˜¾ç¤ºã€‚</li>
                </strong>
                </ul>
            </li>
            <li>
                <p>symbolToEmoji(symbolStr) ï¼š</p>
                <ul>
                <strong>
                    <li>å°†emojiçš„å¯¹åº”åç§°è½¬åŒ–ä¸ºåŸç”Ÿemojiå­—ç¬¦ã€‚(ç¤ºä¾‹1, ç¤ºä¾‹2)</li>
                    <li><em>åº”ç”¨åœºæ™¯</em>ï¼šå‘é€æ¶ˆæ¯æ—¶ï¼Œæ¶ˆæ¯ä½“é‡Œå¿…é¡»ä½¿ç”¨åŸç”Ÿemojiå­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨è¯¥æ–¹æ³•è¿›è¡Œè½¬æ¢ã€‚</li>
                </strong>
                </ul>
            </li>
            <li>
                <p>emojiToHTML(emojiStr, reg) ï¼š</p>
                <ul>
                <strong>
                    <li>å°†åŸç”Ÿemojiè½¬åŒ–ä¸ºHTMLæ ‡ç­¾ï¼Œä½¿ç”¨èƒŒæ™¯å›¾ç‰‡æ¥æ˜¾ç¤ºemojiå­—ç¬¦ï¼Œå¯é€‰æ˜¯å¦é‡æ–°è®¾ç½®æ ‡ç­¾å¤§å°ï¼Œé»˜è®¤ä¸º24px (ç¤ºä¾‹4)</li>
                    <li><em>åº”ç”¨åœºæ™¯</em>ï¼šéœ€è¦åœ¨æŸäº›ä¸æ”¯æŒemojiå­—ç¬¦æ¸²æŸ“çš„æ“ä½œç³»ç»Ÿä¸­å±•ç¤ºemojiæ—¶ï¼Œæˆ–è€…éœ€è¦åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸­å±•ç¤ºç›¸åŒçš„emojiå­—ç¬¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•å±•ç¤ºemojiã€‚</li>
                </strong>
                </ul>
            </li>
            <li>
                <p>symbolToHTML(symbolStr) ï¼š</p>
                <ul>
                    <li><strong>å°†emojiå¯¹åº”åç§°è½¬åŒ–ä¸ºHTMLæ ‡ç­¾ã€‚(ç¤ºä¾‹5)</strong></li>
                </ul>
            </li>
            <li>
                <p>messageDecode(emojiStr, reg) ï¼š</p>
                <ul>
                <strong>
                    <li>å°†emojiçš„unicodeç è½¬åŒ–ä¸ºå¯¹åº”çš„åŸç”Ÿemojiå­—ç¬¦ã€‚(ç¤ºä¾‹6)</li>
                    <li><em>åº”ç”¨åœºæ™¯</em>ï¼šWeb SDK æ¥æ”¶æ¶ˆæ¯åï¼Œæ¶ˆæ¯ä½“å†…çš„åŸç”Ÿ Emoji å­—ç¬¦ä¼šè¢«è§£ç ä¸ºå¯¹åº”çš„ unicode ç ï¼Œå¦‚ï¼š\uf600ã€‚éœ€ä½¿ç”¨è¯¥æ–¹æ³•è½¬åŒ–æ‰èƒ½æ­£ç¡®æ˜¾ç¤ºã€‚</li>
                </strong>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        <p>emoji SDK å†…ç½®äº†128ä¸ªemojiè¡¨æƒ…çš„å›¾ç‰‡ï¼Œä¹Ÿå¯è‡ªè¡Œæ‰©å±•é…ç½®ã€‚åˆå§‹åŒ–ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
        <ul>
            <strong>
            <li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼ŒdataSourceå®šä¹‰æ‰©å±•çš„emojiè¡¨æƒ…ï¼Œkeyä¸ºæ ‡è¯†è¡¨æƒ…çš„unicodeç ã€‚</li>
            <li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºconfigï¼Œconfigä¸­çš„å±æ€§è®¾ç½®RongIMEmojiçš„å…¨å±€ã€‚å¦‚ï¼Œè®¾ç½®config{ regExp: /[\uf000-\uf701]/g } ä¹‹åï¼ŒRongIMEmojiæ‰€æœ‰æ–¹æ³•ä¸­çš„unicodeåŒ¹é…èŒƒå›´éƒ½å°†æ˜¯/[\uf000-\uf701]/g </li>
            </strong>
        </ul>
        <pre class="doc-content">
    //ç›´æ¥åˆå§‹åŒ–
    RongIMLib.RongIMEmoji.init();

    //é€šè¿‡é…ç½®æ‰©å±•è¡¨æƒ…åˆå§‹åŒ–
    //è¡¨æƒ…ä¿¡æ¯å¯å‚è€ƒ <a href="http://unicode.org/emoji/charts/full-emoji-list.html">http://unicode.org/emoji/charts/full-emoji-list.html</a>
    var emoji = {
        dataSource: {
            "è¡¨æƒ…unicodeç ":{
                "en":"è‹±æ–‡åç§°",
                "zh":"ä¸­æ–‡åç§°",
                "tag":"åŸç”Ÿè¡¨æƒ…å­—ç¬¦",
                "position":"å¤šèƒŒæ™¯å›¾æ—¶è¡¨æƒ…å¯¹åº”çš„åæ ‡"
            },
        },
        url: "èƒŒæ™¯å›¾ç‰‡åœ°å€"
    };
    var config = {
        size: 'å¤§å°',
        url: 'èƒŒæ™¯å›¾',
        lang: 'é€‰æ‹©çš„è¯­è¨€',
        regExp: 'åŒ¹é…unicodeçš„æ­£åˆ™è¡¨è¾¾å¼'
    };
    RongIMLib.RongIMEmoji.init(emoji, config);
        </pre>
    </li>
    <li>æ”¯æŒå¤šè¯­è¨€çš„æ˜¾ç¤º(ç›®å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡)ã€‚</li>
    <li>ç‰¹æ®Šè¯´æ˜ï¼šemojiå›¾ç‰‡æä¾›çš„æ˜¯ä¸€ä¸ªè´¨é‡å¾ˆå·®çš„ç‰ˆæœ¬ï¼Œå› ä¸ºç‰ˆæƒé—®é¢˜ï¼Œå¦‚æœè¦å•†ç”¨ï¼Œè¯·è‡ªè¡Œè§£å†³ç‰ˆæƒé—®é¢˜ã€‚</li>
    <li>
        <p>æ”¯æŒçš„128ä¸ªemojiå­—ç¬¦ï¼Œ<b>RongIMEmoji.emojis</b> ï¼š</p>
        <p id="supportListEmoji"></p>
    </li>
    <li>
        <p>æ”¯æŒçš„128ä¸ªemojiå¯¹åº”è‹±æ–‡ï¼Œ<b>RongIMEmoji.names</b> ï¼š</p>
        <p class="support-list" id="supportListEN"></p>
    </li>
    <li>
        <p>æ”¯æŒçš„128ä¸ªemojiå¯¹åº”ä¸­æ–‡ï¼Œ<b>RongIMEmoji.names</b> ï¼š</p>
        <p class="support-list" id="supportListZH"></p>
    </li>
    <li>
        <p>SDKä½¿ç”¨ç¤ºä¾‹ï¼š</p>
        <pre class="code" id="show"></pre>
    </li>
</ol>








<script>
//åˆå§‹åŒ–
/*
http://www.fileformat.info/info/unicode/char/1f60e/index.htm
*/ 

// é€šè¿‡è‡ªå®šä¹‰æ‰©å±•ï¼Œè§£å†³å¯¹â€œç‹ç¬‘â€çš„æ”¯æŒ 
var emojiNew = {
    dataSource: {
        "u1F60E":{
            "en":"smiling face with sunglasses",
            "zh":"ç‹ç¬‘",
            "tag":"ğŸ˜",
            "position":"0px 0px"
        },
        /* æ–°å¢æ€ªç‰©è¡¨æƒ…, u1F701è¶…å‡ºäº†é»˜è®¤çš„regExpï¼Œéœ€è¦åœ¨configä¸­è®¾ç½®å…¨å±€regExpï¼Œæˆ–è€…è½¬åŒ–æ—¶ä¼ å…¥ç¬¬äºŒä¸ªåŒ¹é…å‚æ•° */
        "u1F701": {
            "en": "ogre",
            "zh": "æ€ªç‰©",
            "tag": "ğŸ‘¹",
            "position": "0px 0px"
        }
    },
    url: "http://emoji.fileformat.info/gemoji/sunglasses.png"
};

// ä¸­æ–‡é…ç½®
var config = {
    size : 24,
    lang: 'zh',
    url : "//cdn.ronghub.com/css-sprite_bg-2.1.10.png"
};

var enConfig = {
    size: 27,
    lang: 'en'
};

test(RongIMLib.RongIMEmoji);

function test(RongIMEmoji){


    /* æ”¯æŒä¸­æ–‡çš„åˆå§‹åŒ– */
    RongIMEmoji.init(emojiNew, config);
    var list = document.querySelector('#supportListZH');
    list.innerHTML = RongIMEmoji.names.join(", ");

    /* æ”¯æŒè‹±æ–‡çš„åˆå§‹åŒ– */
    RongIMEmoji.init(emojiNew, enConfig);
    list = document.querySelector('#supportListEN');
    list.innerHTML = RongIMEmoji.names.join(", ");

    var emojis = RongIMEmoji.emojis;
    emojis.forEach(function(emoji) {
        var objE = document.createElement("span");
        objE.innerHTML = emoji;
        document.querySelector("#supportListEmoji").appendChild(objE);
    });


    var t = document.querySelector('#show');
    var str;


    //isSupportEmoji
    t.innerHTML += "(0)isSupportEmojiï¼Œæ˜¯å¦æ”¯æŒemojiæ¸²æŸ“ï¼Ÿ \n";
    str = RongIMEmoji.isSupportEmoji;
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n";


    str = "[innocent] [expressionless]  æµ‹è¯•Emoji";

    //symbolToEmoji
    t.innerHTML += "(1)symbolToEmojiï¼Œè‹±æ–‡å‚æ•°ï¼š \n";
    t.innerHTML += "å‰ç½®éœ€æ±‚ï¼š\n";
    t.innerHTML += "\téœ€è¦åœ¨RongIMEmoji.initæ—¶ä¼ å…¥configå‚æ•°ï¼Œå¹¶ä¸”configè®¾ç½®lang: en\n";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML += "\t" + str + "\n";
    str = RongIMEmoji.symbolToEmoji(str);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n\n";


    //symbolToEmoji english
    RongIMEmoji.init(emojiNew, config);
    str = "[ç‹ç¬‘] [éœ²é½¿è€Œç¬‘]  æµ‹è¯•Emoji";
    t.innerHTML += "(2)symbolToEmojiï¼Œä¸­æ–‡å‚æ•°ï¼š \n";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML += "\t" + str + "\n";
    str = RongIMEmoji.symbolToEmoji(str);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n\n"; 


    //emojiToSymbol
    t.innerHTML += "(3)emojiToSymbol \n";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML += "\t" + str + "\n";
    str = RongIMEmoji.emojiToSymbol(str);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n\n";  



    //emojiToHTML 
    var str = "æˆ‘æ”¶åˆ°äº†ä¸€ä¸ªè¡¨æƒ… ğŸ˜€ ğŸ˜ å¾ˆé…·";
    t.innerHTML += "(4)emojiToHTML \n";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML +=  "\t1ï¼Œ" + str + "ã€‚\n";
    t.innerHTML +=  "\t2ï¼Œ35\n";
    str = RongIMEmoji.emojiToHTML(str, 35);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n\n";  



    // //symbolToHTML
    t.innerHTML += "(5)symbolToHTML \n";
    var str = "[ç‹ç¬‘] [éœ²é½¿è€Œç¬‘]  æµ‹è¯•Emoji";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML += "\t" + str + "\n";
    str = RongIMEmoji.symbolToHTML(str);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML +=  "\t" + str + "\n\n\n";


    // messageDecode
    t.innerHTML += "(6)messageDecode \n";
    var str = "æˆ‘æ”¶åˆ°äº†ä¸¤ä¸ªunicodeç å½¢å¼çš„è¡¨æƒ…ï¼Œåˆ†åˆ«æ˜¯ï¼š\uf600 \uf601(\\uf600 \\uf601)ã€‚";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML += "\t" + str + "\n";
    str = RongIMEmoji.messageDecode(str);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML +=  "\t" + str + "\n\n\n";


    // è‡ªå®šä¹‰çš„æ‰©å±•
    str = "æµ‹è¯•æ‰©å±•çš„è‡ªå®šä¹‰è¡¨æƒ…, unicodeç ï¼š\uf701 (\\uf701)";
    t.innerHTML += "(7)messageDecode è·å–è‡ªå®šä¹‰çš„æ‰©å±•è¡¨æƒ… \n";
    t.innerHTML += "å‚æ•°ï¼š\n";
    t.innerHTML +=  "\t1ï¼Œ" + str + "ã€‚\n";
    t.innerHTML +=  "\t2ï¼Œ" + /[\uf000-\uf701]/g + "\n";
    str = RongIMEmoji.messageDecode(str, /[\uf000-\uf701]/g);
    t.innerHTML += "è¿”å›å€¼ï¼š\n";
    t.innerHTML += "\t" + str + "\n\n\n";

}   
</script>

<!-- require load -->
<!-- <script src="lib/require.js"></script>
<script>
require.config({
    paths: {
        RongIMEmoji: './lib/RongEmoji-dev'
    }
});

require(['RongIMEmoji'], function(RongIMEmoji) {
    test(RongIMEmoji);
}); 
</script> -->
</body>
</html>